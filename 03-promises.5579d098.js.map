{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SACAC,EAAAF,GAASG,OAAOC,KAAK,CACjBC,SAAU,YACVC,cAAc,IAGlB,IAAMC,EAAO,CACXC,QAASC,SAASC,kBAAkB,SAAS,GAC7CC,OAAQF,SAASC,kBAAkB,QAAQ,GAC3CE,SAAUH,SAASC,kBAAkB,UAAU,GAC/CG,UAAWJ,SAASK,cAAc,0BASpC,SAASC,EAAcC,G,IAACX,EAADW,EAACX,SAAUY,EAAXD,EAAWC,MAChC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GAEpCC,YAAW,WACNH,GACDF,EAAQ,qBAAoCM,OAAfpB,EAAS,QAAYoB,OAANR,EAAM,OAGpDG,EAAO,oBAAmCK,OAAfpB,EAAS,QAAYoB,OAANR,EAAM,M,GAE/CA,E,IAjBPV,EAAKC,QAAQkB,MAAQ,KACrBnB,EAAKI,OAAOe,MAAQ,IACpBnB,EAAKK,SAASc,MAAQ,EAoBxBnB,EAAKM,UAAUc,iBAAiB,SAAS,SAACC,GACxCA,EAAEC,iBAIF,IAHA,IAAIZ,EAAQa,OAAOvB,EAAKC,QAAQkB,OAC5BK,EAAOD,OAAOvB,EAAKI,OAAOe,OAC1BM,EAASF,OAAOvB,EAAKK,SAASc,OACzBrB,EAAW,EAAGA,GAAY2B,EAAQ3B,GAAY,EAErDU,EAAc,CAAEV,WAAUY,UAASgB,MACjC,SAAAC,GACEhC,EAAAF,GAASG,OAAOgC,QAAQD,E,IAE1B,SAAAE,GACElC,EAAAF,GAASG,OAAOkC,QAAQD,E,IAI5BnB,GAASc,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nNotiflix.Notify.init({\n    position: 'right-top',\n    clickToClose: true,\n});\n\nconst refs = {\n  delayEl: document.getElementsByName(\"delay\")[0],\n  stopEl: document.getElementsByName(\"step\")[0],\n  amountEl: document.getElementsByName(\"amount\")[0],\n  submitBtn: document.querySelector('button[type=\"submit\"]'),\n};\nconst formInit = () => {\n  refs.delayEl.value = 1500;\n  refs.stopEl.value = 1000;\n  refs.amountEl.value = 5;\n}\nformInit();\n\nfunction createPromise({position, delay}) {\n  return new Promise((resolve, reject)  => {\n    const shouldResolve = Math.random() > 0.3;\n    \n      setTimeout(() => {\n        if(shouldResolve) {\n          resolve(`Fulfilled promise ${position} in ${delay}ms`);\n        }\n\n        reject(`Rejected promise ${position} in ${delay}ms`);\n        \n      }, delay);\n    \n  });\n}\n\nrefs.submitBtn.addEventListener('click', (e) => {\n  e.preventDefault();\n  let delay = Number(refs.delayEl.value);\n  let step = Number(refs.stopEl.value);\n  let amount = Number(refs.amountEl.value);\n  for (let position = 1; position <= amount; position += 1) {\n\n    createPromise({ position, delay }).then(\n      result => {\n        Notiflix.Notify.success(result);\n      },\n      error => {\n        Notiflix.Notify.failure(error);\n      },\n    );\n\n    delay += step;\n  }\n});"],"names":["$6JpON","parcelRequire","$parcel$interopDefault","Notify","init","position","clickToClose","$ce04d3a99e08e73b$var$refs","delayEl","document","getElementsByName","stopEl","amountEl","submitBtn","querySelector","$ce04d3a99e08e73b$var$createPromise","param","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","concat","value","addEventListener","e","preventDefault","Number","step","amount","then","result","success","error","failure"],"version":3,"file":"03-promises.5579d098.js.map"}