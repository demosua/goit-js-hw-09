{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SACAC,EAAAF,GAASG,OAAOC,KAAK,CACjBC,SAAU,YACVC,cAAc,IAGlB,MAAMC,EAAO,CACXC,QAASC,SAASC,kBAAkB,SAAS,GAC7CC,OAAQF,SAASC,kBAAkB,QAAQ,GAC3CE,SAAUH,SAASC,kBAAkB,UAAU,GAC/CG,UAAWJ,SAASK,cAAc,0BASpC,SAASC,GAAcV,SAACA,EAAQW,MAAEA,IAChC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GAEpCC,YAAW,KACNH,GACDF,EAAQ,qBAAqBb,QAAeW,OAG9CG,EAAO,oBAAoBd,QAAeW,MAAU,GAEnDA,EAAM,G,CAjBbT,EAAKC,QAAQgB,MAAQ,KACrBjB,EAAKI,OAAOa,MAAQ,IACpBjB,EAAKK,SAASY,MAAQ,EAoBxBjB,EAAKM,UAAUY,iBAAiB,SAAUC,IACxCA,EAAEC,iBACF,IAAIX,EAAQY,OAAOrB,EAAKC,QAAQgB,OAC5BK,EAAOD,OAAOrB,EAAKI,OAAOa,OAC1BM,EAASF,OAAOrB,EAAKK,SAASY,OAClC,IAAK,IAAInB,EAAW,EAAGA,GAAYyB,EAAQzB,GAAY,EAErDU,EAAc,C,SAAEV,E,MAAUW,IAASe,MACjCC,IACE9B,EAAAF,GAASG,OAAO8B,QAAQD,EAAO,IAEjCE,IACEhC,EAAAF,GAASG,OAAOgC,QAAQD,EAAM,IAIlClB,GAASa,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nNotiflix.Notify.init({\n    position: 'right-top',\n    clickToClose: true,\n});\n\nconst refs = {\n  delayEl: document.getElementsByName(\"delay\")[0],\n  stopEl: document.getElementsByName(\"step\")[0],\n  amountEl: document.getElementsByName(\"amount\")[0],\n  submitBtn: document.querySelector('button[type=\"submit\"]'),\n};\nconst formInit = () => {\n  refs.delayEl.value = 1500;\n  refs.stopEl.value = 1000;\n  refs.amountEl.value = 5;\n}\nformInit();\n\nfunction createPromise({position, delay}) {\n  return new Promise((resolve, reject)  => {\n    const shouldResolve = Math.random() > 0.3;\n    \n      setTimeout(() => {\n        if(shouldResolve) {\n          resolve(`Fulfilled promise ${position} in ${delay}ms`);\n        }\n\n        reject(`Rejected promise ${position} in ${delay}ms`);\n        \n      }, delay);\n    \n  });\n}\n\nrefs.submitBtn.addEventListener('click', (e) => {\n  e.preventDefault();\n  let delay = Number(refs.delayEl.value);\n  let step = Number(refs.stopEl.value);\n  let amount = Number(refs.amountEl.value);\n  for (let position = 1; position <= amount; position += 1) {\n\n    createPromise({ position, delay }).then(\n      result => {\n        Notiflix.Notify.success(result);\n      },\n      error => {\n        Notiflix.Notify.failure(error);\n      },\n    );\n\n    delay += step;\n  }\n});"],"names":["$7Y9D8","parcelRequire","$parcel$interopDefault","Notify","init","position","clickToClose","$47d4ff9957288465$var$refs","delayEl","document","getElementsByName","stopEl","amountEl","submitBtn","querySelector","$47d4ff9957288465$var$createPromise","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","value","addEventListener","e","preventDefault","Number","step","amount","then","result","success","error","failure"],"version":3,"file":"03-promises.6f11494a.js.map"}